
from urllib.parse import urlparse

def extract_valid_urls(urls):
    """Extracts valid URLs, removes duplicates, and excludes URLs containing 'google'."""
    filtered_urls = set()
    for url in urls:
        parsed_url = urlparse(url)

        # Check if the URL is valid and contains a netloc or path
        if parsed_url.scheme in ("http", "https") and parsed_url.netloc:
            clean_url = parsed_url.netloc + parsed_url.path
        elif parsed_url.path and not parsed_url.scheme and parsed_url.path.startswith("/") and not parsed_url.path.startswith(('/setprefs', '/search', '/url', '/safesearch', '/preferences', '/travel/flights', '/finance','/history/optout')):
            # Relative URL handling for non-blacklisted paths
            clean_url = parsed_url.path
        else:
            continue

        # Exclude URLs containing 'google'
        if "google" not in clean_url:
            filtered_urls.add(clean_url)

    return list(filtered_urls)


def main():
    # all_urls = [
    #     '/search?q=emg&sca_esv=cc24cf703c2872c1&gbv=1&sei=3wxoZ-LiNIOmseMPjICnoQM',
    #     'https://support.google.com/websearch/answer/181196?hl=en-MY',
    #     'https://www.google.com/webhp?hl=en&ictx=2&sa=X&ved=0ahUKEwiizsvztruKAxUDU2wGHQzAKTQQPQgJ',
    #     'https://www.google.com.my/intl/en/about/products?tab=wh',
    #     'https://www.hopkinsmedicine.org/health/treatment-tests-and-therapies/electromyography-emg',
    #     'https://en.wikipedia.org/wiki/Electromyography',
    #     'https://www.mayoclinic.org/tests-procedures/emg/about/pac-20393913',
    #     '#',
    #     '/search?q=emg&sca_esv=cc24cf703c2872c1&source=lnt&tbs=li:1&sa=X&ved=2ahUKEwiizsvztruKAxUDU2wGHQzAKTQQpwV6BAgEEBM'
    # ]
    all_urls=['/search?q=emg&sca_esv=cc24cf703c2872c1&gbv=1&sei=3wxoZ-LiNIOmseMPjICnoQM', 'https://support.google.com/websearch/answer/181196?hl=en-MY', 'https://www.google.com/webhp?hl=en&ictx=2&sa=X&ved=0ahUKEwiizsvztruKAxUDU2wGHQzAKTQQPQgJ', 'https://www.google.com/webhp?hl=en&ictx=0&sa=X&ved=0ahUKEwiizsvztruKAxUDU2wGHQzAKTQQpYkNCAs', 'https://www.google.com.my/intl/en/about/products?tab=wh', 'https://accounts.google.com/SignOutOptions?hl=en&continue=https://www.google.com/search%3Fq%3Demg&ec=GBRAAQ', '/search?sca_esv=cc24cf703c2872c1&q=emg&udm=2&fbs=AEQNm0Aa4sjWe7Rqy32pFwRj0UkWd8nbOJfsBGGB5IQQO6L3J603JUkR9Y5suk8yuy50qOYMMWTNCTu57lKPsZpPcfqPxsr7W9ht6aSHdZDeYOHGXjlTr9vFv2xeJBxGwfKNFiSA3iT6TUbct8mo3-5FBJ76Dm3mQELK6Fak3hzmoE5NrrkKPDbJhkK_veZD8Wy9JYeu7llN&sa=X&ved=2ahUKEwiizsvztruKAxUDU2wGHQzAKTQQtKgLegQIFBAB', '/search?sca_esv=cc24cf703c2872c1&q=emg&udm=7&fbs=AEQNm0Aa4sjWe7Rqy32pFwRj0UkWd8nbOJfsBGGB5IQQO6L3J603JUkR9Y5suk8yuy50qOYMMWTNCTu57lKPsZpPcfqPxsr7W9ht6aSHdZDeYOHGXjlTr9vFv2xeJBxGwfKNFiSA3iT6TUbct8mo3-5FBJ76Dm3mQELK6Fak3hzmoE5NrrkKPDbJhkK_veZD8Wy9JYeu7llN&sa=X&ved=2ahUKEwiizsvztruKAxUDU2wGHQzAKTQQtKgLegQIDhAB', '/search?sca_esv=cc24cf703c2872c1&q=emg&tbm=shop&source=lnms&fbs=AEQNm0Aa4sjWe7Rqy32pFwRj0UkWd8nbOJfsBGGB5IQQO6L3J603JUkR9Y5suk8yuy50qOYMMWTNCTu57lKPsZpPcfqPxsr7W9ht6aSHdZDeYOHGXjlTr9vFv2xeJBxGwfKNFiSA3iT6TUbct8mo3-5FBJ76Dm3mQELK6Fak3hzmoE5NrrkKPDbJhkK_veZD8Wy9JYeu7llN&ved=1t:200715&ictx=111', '/search?sca_esv=cc24cf703c2872c1&q=emg&tbm=nws&source=lnms&fbs=AEQNm0Aa4sjWe7Rqy32pFwRj0UkWd8nbOJfsBGGB5IQQO6L3J603JUkR9Y5suk8yuy50qOYMMWTNCTu57lKPsZpPcfqPxsr7W9ht6aSHdZDeYOHGXjlTr9vFv2xeJBxGwfKNFiSA3iT6TUbct8mo3-5FBJ76Dm3mQELK6Fak3hzmoE5NrrkKPDbJhkK_veZD8Wy9JYeu7llN&sa=X&ved=2ahUKEwiizsvztruKAxUDU2wGHQzAKTQQ0pQJegQIExAB', 'https://maps.google.com/maps?sca_esv=cc24cf703c2872c1&output=search&q=emg&source=lnms&fbs=AEQNm0Aa4sjWe7Rqy32pFwRj0UkWd8nbOJfsBGGB5IQQO6L3J603JUkR9Y5suk8yuy50qOYMMWTNCTu57lKPsZpPcfqPxsr7W9ht6aSHdZDeYOHGXjlTr9vFv2xeJBxGwfKNFiSA3iT6TUbct8mo3-5FBJ76Dm3mQELK6Fak3hzmoE5NrrkKPDbJhkK_veZD8Wy9JYeu7llN&entry=mc&ved=1t:200715&ictx=111', '/search?sca_esv=cc24cf703c2872c1&q=emg&udm=14&fbs=AEQNm0Aa4sjWe7Rqy32pFwRj0UkWd8nbOJfsBGGB5IQQO6L3J603JUkR9Y5suk8yuy50qOYMMWTNCTu57lKPsZpPcfqPxsr7W9ht6aSHdZDeYOHGXjlTr9vFv2xeJBxGwfKNFiSA3iT6TUbct8mo3-5FBJ76Dm3mQELK6Fak3hzmoE5NrrkKPDbJhkK_veZD8Wy9JYeu7llN&sa=X&ved=2ahUKEwiizsvztruKAxUDU2wGHQzAKTQQs6gLegQIEBAB', '/search?sca_esv=cc24cf703c2872c1&q=emg&udm=36&source=lnms&fbs=AEQNm0Aa4sjWe7Rqy32pFwRj0UkWd8nbOJfsBGGB5IQQO6L3J603JUkR9Y5suk8yuy50qOYMMWTNCTu57lKPsZpPcfqPxsr7W9ht6aSHdZDeYOHGXjlTr9vFv2xeJBxGwfKNFiSA3iT6TUbct8mo3-5FBJ76Dm3mQELK6Fak3hzmoE5NrrkKPDbJhkK_veZD8Wy9JYeu7llN&sa=X&ved=2ahUKEwiizsvztruKAxUDU2wGHQzAKTQQ0pQJegQIXxAB', '/travel/flights?sca_esv=cc24cf703c2872c1&output=search&q=emg&source=lnms&fbs=AEQNm0Aa4sjWe7Rqy32pFwRj0UkWd8nbOJfsBGGB5IQQO6L3J603JUkR9Y5suk8yuy50qOYMMWTNCTu57lKPsZpPcfqPxsr7W9ht6aSHdZDeYOHGXjlTr9vFv2xeJBxGwfKNFiSA3iT6TUbct8mo3-5FBJ76Dm3mQELK6Fak3hzmoE5NrrkKPDbJhkK_veZD8Wy9JYeu7llN&ved=1t:200715&ictx=111', '/finance?sca_esv=cc24cf703c2872c1&output=search&q=emg&source=lnms&fbs=AEQNm0Aa4sjWe7Rqy32pFwRj0UkWd8nbOJfsBGGB5IQQO6L3J603JUkR9Y5suk8yuy50qOYMMWTNCTu57lKPsZpPcfqPxsr7W9ht6aSHdZDeYOHGXjlTr9vFv2xeJBxGwfKNFiSA3iT6TUbct8mo3-5FBJ76Dm3mQELK6Fak3hzmoE5NrrkKPDbJhkK_veZD8Wy9JYeu7llN&sa=X&ved=2ahUKEwiizsvztruKAxUDU2wGHQzAKTQQ0pQJegQIXhAB', '/search?q=emg&sca_esv=cc24cf703c2872c1&source=lnt&tbs=qdr:h&sa=X&ved=2ahUKEwiizsvztruKAxUDU2wGHQzAKTQQpwV6BAgEEAc', '/search?q=emg&sca_esv=cc24cf703c2872c1&source=lnt&tbs=qdr:d&sa=X&ved=2ahUKEwiizsvztruKAxUDU2wGHQzAKTQQpwV6BAgEEAg', '/search?q=emg&sca_esv=cc24cf703c2872c1&source=lnt&tbs=qdr:w&sa=X&ved=2ahUKEwiizsvztruKAxUDU2wGHQzAKTQQpwV6BAgEEAk', '/search?q=emg&sca_esv=cc24cf703c2872c1&source=lnt&tbs=qdr:m&sa=X&ved=2ahUKEwiizsvztruKAxUDU2wGHQzAKTQQpwV6BAgEEAo', '/search?q=emg&sca_esv=cc24cf703c2872c1&source=lnt&tbs=qdr:y&sa=X&ved=2ahUKEwiizsvztruKAxUDU2wGHQzAKTQQpwV6BAgEEAs', '/search?q=emg&sca_esv=cc24cf703c2872c1&source=lnt&tbs=li:1&sa=X&ved=2ahUKEwiizsvztruKAxUDU2wGHQzAKTQQpwV6BAgEEBM', 'https://www.google.com/advanced_search?q=emg', 'https://myactivity.google.com/product/search?utm_source=google&utm_campaign=quick_settings&hl=en', '/safesearch?prev=https://www.google.com/search?q%3Demg&sa=X&ved=2ahUKEwiizsvztruKAxUDU2wGHQzAKTQQ8JsIegQIBhAH', '/preferences?lang=1&hl=en&prev=https://www.google.com/search?q%3Demg%26sca_esv%3Dcc24cf703c2872c1#languages', '/setprefs?hl=en&prev=https://www.google.com/search?q%3Demg%26pccc%3D1&sig=0_N-vuE-vbpAWR19O9o_TmMX2n0Og%3D&cs=2&sa=X&ved=2ahUKEwiizsvztruKAxUDU2wGHQzAKTQQqsEHegQIBhAJ&ictx=1', '/preferences?hl=en&prev=https://www.google.com/search?q%3Demg%26sca_esv%3Dcc24cf703c2872c1', 'https://support.google.com/websearch/?p=dsrp_search_hc&hl=en-MY', 'https://policies.google.com/privacy?hl=en-MY&fg=1', 'https://policies.google.com/terms?hl=en-MY&fg=1', 'https://www.hopkinsmedicine.org/health/treatment-tests-and-therapies/electromyography-emg', '/url?url=https://support.google.com/websearch?p%3Dfeatured_snippets%26hl%3Den-MY&rct=j&q=&esrc=s&opi=89978449&usg=AOvVaw3OzvaDvUTyO65CDrBX75Z3&hl=en-MY&sa=X&ved=2ahUKEwiizsvztruKAxUDU2wGHQzAKTQQrpwBegQIGxAB', '/url?url=https://support.google.com/websearch?p%3Dfeatured_snippets%26hl%3Den-MY&rct=j&q=&esrc=s&opi=89978449&usg=AOvVaw3OzvaDvUTyO65CDrBX75Z3&hl=en-MY&sa=X&ved=2ahUKEwiizsvztruKAxUDU2wGHQzAKTQQrpwBegQIGxAC', 'https://www.mayoclinic.org/tests-procedures/emg/about/pac-20393913', 'https://pmc.ncbi.nlm.nih.gov/articles/PMC5363430/', 'https://www.asappaindocs.com/articles/interpret-EMG-test-results', 'https://www.urmc.rochester.edu/encyclopedia/content.aspx?contenttypeid=92&contentid=p07656', 'https://www.mayoclinic.org/tests-procedures/emg/about/pac-20393913', 'https://en.wikipedia.org/wiki/Electromyography', 'https://en.wikipedia.org/wiki/Electromyography', 'https://my.clevelandclinic.org/health/diagnostics/4825-emg-electromyography', 'https://my.clevelandclinic.org/health/diagnostics/4825-emg-electromyography', 'https://www.sunwaymedical.com/en/electromyography-emg', 'https://www.emgpickups.com/', 'https://www.emgpickups.com/', 'https://www.emgpickups.com/guitar/humbucking.html', 'https://www.emgpickups.com/bass.html', 'https://www.emgpickups.com/guitar.html', 'https://www.emgpickups.com/parts/emg-wiring-kits.html', 'https://www.healthline.com/health/electromyography', 'https://www.healthline.com/health/electromyography', 'https://www.bangkokinternationalhospital.com/health-articles/disease-treatment/eletromyography-and-nerve-conduction-studies', 'https://www.gleneagles.com.sg/tests-treatments/electromyogram', 'https://medlineplus.gov/ency/article/003929.htm', '/search?sca_esv=cc24cf703c2872c1&q=What+is+EMG+test+used+to+diagnose&sa=X&ved=2ahUKEwiizsvztruKAxUDU2wGHQzAKTQQ1QJ6BAhdEAE', '/search?sca_esv=cc24cf703c2872c1&q=EMG+pickups&sa=X&ved=2ahUKEwiizsvztruKAxUDU2wGHQzAKTQQ1QJ6BAhbEAE', '/search?sca_esv=cc24cf703c2872c1&q=EMG+test+on+legs&sa=X&ved=2ahUKEwiizsvztruKAxUDU2wGHQzAKTQQ1QJ6BAhcEAE', '/search?sca_esv=cc24cf703c2872c1&q=EMG+test+painful&sa=X&ved=2ahUKEwiizsvztruKAxUDU2wGHQzAKTQQ1QJ6BAhXEAE', '/search?sca_esv=cc24cf703c2872c1&q=EMG+test+price&sa=X&ved=2ahUKEwiizsvztruKAxUDU2wGHQzAKTQQ1QJ6BAhYEAE', '/search?sca_esv=cc24cf703c2872c1&q=Positive+EMG+test+results&sa=X&ved=2ahUKEwiizsvztruKAxUDU2wGHQzAKTQQ1QJ6BAhZEAE', '/search?sca_esv=cc24cf703c2872c1&q=EMG+full+form&sa=X&ved=2ahUKEwiizsvztruKAxUDU2wGHQzAKTQQ1QJ6BAhWEAE', '/search?sca_esv=cc24cf703c2872c1&q=emg/ncs&sa=X&ved=2ahUKEwiizsvztruKAxUDU2wGHQzAKTQQ1QJ6BAhaEAE', '/search?q=emg&sca_esv=cc24cf703c2872c1&ei=3wxoZ-LiNIOmseMPjICnoQM&start=10&sa=N&sstk=ATObxK4wYedS7YQr0Dudg6KXH3UyDVIuNe-a2Yb__waFwATDrW9Q_S7yvpmtta2WjAacrx08DjrixRyNdiBdvMM0Kd-TTDBCL3PqCA&ved=2ahUKEwiizsvztruKAxUDU2wGHQzAKTQQ8tMDegQIBxAE', '/search?q=emg&sca_esv=cc24cf703c2872c1&ei=3wxoZ-LiNIOmseMPjICnoQM&start=20&sa=N&sstk=ATObxK4wYedS7YQr0Dudg6KXH3UyDVIuNe-a2Yb__waFwATDrW9Q_S7yvpmtta2WjAacrx08DjrixRyNdiBdvMM0Kd-TTDBCL3PqCA&ved=2ahUKEwiizsvztruKAxUDU2wGHQzAKTQQ8tMDegQIBxAG', '/search?q=emg&sca_esv=cc24cf703c2872c1&ei=3wxoZ-LiNIOmseMPjICnoQM&start=30&sa=N&sstk=ATObxK4wYedS7YQr0Dudg6KXH3UyDVIuNe-a2Yb__waFwATDrW9Q_S7yvpmtta2WjAacrx08DjrixRyNdiBdvMM0Kd-TTDBCL3PqCA&ved=2ahUKEwiizsvztruKAxUDU2wGHQzAKTQQ8tMDegQIBxAI', '/search?q=emg&sca_esv=cc24cf703c2872c1&ei=3wxoZ-LiNIOmseMPjICnoQM&start=40&sa=N&sstk=ATObxK4wYedS7YQr0Dudg6KXH3UyDVIuNe-a2Yb__waFwATDrW9Q_S7yvpmtta2WjAacrx08DjrixRyNdiBdvMM0Kd-TTDBCL3PqCA&ved=2ahUKEwiizsvztruKAxUDU2wGHQzAKTQQ8tMDegQIBxAK', '/search?q=emg&sca_esv=cc24cf703c2872c1&ei=3wxoZ-LiNIOmseMPjICnoQM&start=50&sa=N&sstk=ATObxK4wYedS7YQr0Dudg6KXH3UyDVIuNe-a2Yb__waFwATDrW9Q_S7yvpmtta2WjAacrx08DjrixRyNdiBdvMM0Kd-TTDBCL3PqCA&ved=2ahUKEwiizsvztruKAxUDU2wGHQzAKTQQ8tMDegQIBxAM', '/search?q=emg&sca_esv=cc24cf703c2872c1&ei=3wxoZ-LiNIOmseMPjICnoQM&start=60&sa=N&sstk=ATObxK4wYedS7YQr0Dudg6KXH3UyDVIuNe-a2Yb__waFwATDrW9Q_S7yvpmtta2WjAacrx08DjrixRyNdiBdvMM0Kd-TTDBCL3PqCA&ved=2ahUKEwiizsvztruKAxUDU2wGHQzAKTQQ8tMDegQIBxAO', '/search?q=emg&sca_esv=cc24cf703c2872c1&ei=3wxoZ-LiNIOmseMPjICnoQM&start=70&sa=N&sstk=ATObxK4wYedS7YQr0Dudg6KXH3UyDVIuNe-a2Yb__waFwATDrW9Q_S7yvpmtta2WjAacrx08DjrixRyNdiBdvMM0Kd-TTDBCL3PqCA&ved=2ahUKEwiizsvztruKAxUDU2wGHQzAKTQQ8tMDegQIBxAQ', '/search?q=emg&sca_esv=cc24cf703c2872c1&ei=3wxoZ-LiNIOmseMPjICnoQM&start=80&sa=N&sstk=ATObxK4wYedS7YQr0Dudg6KXH3UyDVIuNe-a2Yb__waFwATDrW9Q_S7yvpmtta2WjAacrx08DjrixRyNdiBdvMM0Kd-TTDBCL3PqCA&ved=2ahUKEwiizsvztruKAxUDU2wGHQzAKTQQ8tMDegQIBxAS', '/search?q=emg&sca_esv=cc24cf703c2872c1&ei=3wxoZ-LiNIOmseMPjICnoQM&start=90&sa=N&sstk=ATObxK4wYedS7YQr0Dudg6KXH3UyDVIuNe-a2Yb__waFwATDrW9Q_S7yvpmtta2WjAacrx08DjrixRyNdiBdvMM0Kd-TTDBCL3PqCA&ved=2ahUKEwiizsvztruKAxUDU2wGHQzAKTQQ8tMDegQIBxAU', '/search?q=emg&sca_esv=cc24cf703c2872c1&ei=3wxoZ-LiNIOmseMPjICnoQM&start=10&sa=N&sstk=ATObxK4wYedS7YQr0Dudg6KXH3UyDVIuNe-a2Yb__waFwATDrW9Q_S7yvpmtta2WjAacrx08DjrixRyNdiBdvMM0Kd-TTDBCL3PqCA&ved=2ahUKEwiizsvztruKAxUDU2wGHQzAKTQQ8NMDegQIBxAW', '#', '#', '#', '#', 'https://en.wikipedia.org/wiki/Electromyography', 'https://en.wikipedia.org/wiki/Electromyography', 'https://en.wikipedia.org/wiki/Electromyography', '#', 'https://support.google.com/websearch/?p=ws_results_help&hl=en-MY&fg=1', '#', 'https://policies.google.com/privacy?hl=en-MY&fg=1', 'https://policies.google.com/terms?hl=en-MY&fg=1']
    # Extract and print valid URLs
    valid_urls = extract_valid_urls(all_urls)
    print("Filtered URLs:")
    for url in valid_urls:
        print(url)

if __name__ == "__main__":
    main()
